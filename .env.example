# 2ndBrain_RAG Configuration
# Copy this file to .env and customize for your deployment

# ============================================================================
# Core Configuration
# ============================================================================

# Path to documents folder (default: ~/2ndBrain_RAG)
RAG_FOLDER=/home/user/2ndBrain_RAG

# ============================================================================
# Ollama Configuration
# ============================================================================

# Ollama service endpoint (default: http://localhost:11434)
OLLAMA_HOST=http://localhost:11434

# Ollama model to use (default: llama3)
# Options: llama3, mistral, phi, neural-chat, llama3-mini, etc.
OLLAMA_MODEL=llama3

# ============================================================================
# Authentication
# ============================================================================

# Optional API key for authentication (empty = no auth required)
# Leave empty or comment out to disable
# RAG_API_KEY=your-secret-api-key-here

# ============================================================================
# Rate Limiting
# ============================================================================

# Enable or disable rate limiting (default: true)
RATE_LIMIT_ENABLED=true

# Maximum requests per minute per IP (default: 60)
RATE_LIMIT_PER_MINUTE=60

# ============================================================================
# Server Configuration
# ============================================================================

# Server host (default: 0.0.0.0)
SERVER_HOST=0.0.0.0

# Server port (default: 8000)
SERVER_PORT=8000

# Log level: DEBUG, INFO, WARNING, ERROR (default: INFO)
LOG_LEVEL=INFO

# ============================================================================
# Caching Configuration
# ============================================================================

# Max number of cached queries (default: 100)
CACHE_MAX_SIZE=100

# Cache time-to-live in seconds (default: 3600 = 1 hour)
CACHE_TTL_SECONDS=3600

# ============================================================================
# Database Configuration
# ============================================================================

# ChromaDB persistence path (relative or absolute)
# Default: .chroma inside RAG_FOLDER
CHROMA_DB_PATH=.chroma

# ============================================================================
# Docker Configuration (for Docker Compose)
# ============================================================================

# COMPOSE_PROJECT_NAME=2ndbrain_rag

# ============================================================================
# SSL/TLS Configuration
# ============================================================================

# SSL certificate path (for manual deployment with HTTPS)
# SSL_CERT_PATH=/path/to/cert.pem

# SSL key path
# SSL_KEY_PATH=/path/to/key.pem

# ============================================================================
# Performance Tuning
# ============================================================================

# Document chunk size in characters (default: 800)
CHUNK_SIZE=800

# Document chunk overlap (default: 120)
CHUNK_OVERLAP=120

# Maximum file size in MB (default: 100)
MAX_FILE_SIZE_MB=100

# Maximum number of files to index (default: 10000)
MAX_FILES=10000

# ============================================================================
# Advanced Options
# ============================================================================

# Embedding model (from Hugging Face)
# Default: sentence-transformers/all-MiniLM-L6-v2
# Alternative: sentence-transformers/all-mpnet-base-v2 (more accurate, slower)
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Ollama timeout in seconds (default: 300 = 5 minutes)
OLLAMA_TIMEOUT=300

# ============================================================================
# Monitoring & Debugging
# ============================================================================

# Enable detailed debug logging (default: false)
DEBUG=false

# Enable prometheus metrics (future feature)
# ENABLE_METRICS=false

# ============================================================================
# Notes
# ============================================================================

# For Docker Compose:
#   1. Copy this file to .env
#   2. Customize as needed
#   3. Run: docker-compose up -d

# For manual deployment:
#   1. Export variables: export RAG_FOLDER=/path/to/docs
#   2. Run: python -m uvicorn rag_mcp_server:app

# For testing:
#   1. Run: pytest tests/ -v
#   2. Check coverage: pytest --cov=utils tests/
